<view class="merchant-page">
  <view wx:if="{{!hasBaseUrl}}" class="notice">
    baseUrl æœªé…ç½®ï¼šè¯·åˆ›å»º miniprogram/config/local.js å¹¶è®¾ç½® { baseUrl }
  </view>

  <view class="top-card page-card">
    <view class="search" bindtap="onTapSearch">
      <view class="search-icon">ğŸ”</view>
      <view class="search-box">è¯·è¾“å…¥å…³é”®å­—æœç´¢å•†å®¶</view>
    </view>

    <scroll-view scroll-x class="tabs" wx:if="{{categories.length}}">
      <view
        wx:for="{{categories}}"
        wx:key="id"
        class="tab {{index===currentIndex?'active':''}}"
        data-index="{{index}}"
        bindtap="onTapTab"
      >
        {{item.class_name}}
      </view>
    </scroll-view>
  </view>

  <ui-empty wx:if="{{categoryData.length && categoryData[currentIndex].empty}}" text="æš‚æ— å•†å®¶" />

  <view class="merchant-list" wx:if="{{categoryData.length && categoryData[currentIndex].list.length}}">
    <view
      wx:for="{{categoryData[currentIndex].list}}"
      wx:key="id"
      class="merchant-item page-card"
      data-id="{{item.id}}"
      bindtap="onTapMerchant"
    >
      <image class="merchant-img" src="{{item.image}}" mode="aspectFill" />
      <view class="merchant-main">
        <view class="merchant-title">
          <text class="merchant-name">{{item.nickname || 'æœªå‘½åå•†å®¶'}}</text>
          <text class="merchant-distance">{{item.distanceText || '--'}}</text>
        </view>
        <view class="merchant-sub">ç”µè¯ï¼š{{item.mobile || 'æš‚æ— ç”µè¯'}}</view>
        <view class="merchant-sub">è¥ä¸šæ—¶é—´ï¼š{{item.do_business_time || '-'}}</view>
        <view class="merchant-sub">åœ°å€ï¼š{{item.address || 'æš‚æ— åœ°å€'}}</view>
      </view>
    </view>
  </view>

  <ui-list-footer
    wx:if="{{categoryData.length && !categoryData[currentIndex].empty && categoryData[currentIndex].list.length}}"
    status="{{categoryData[currentIndex].loadingStatus}}"
  />
</view>
