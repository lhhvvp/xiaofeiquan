<view class="container">
  <view wx:if="{{!hasBaseUrl}}" class="notice">
    baseUrl 未配置：请创建 miniprogram/config/local.js 并设置 { baseUrl }
  </view>

  <view wx:if="{{!hasLogin}}" class="notice">
    <view>查看售后记录需要先登录</view>
    <ui-button type="primary" size="mini" text="去登录" bind:tap="ensureLoginOrPrompt" />
  </view>

  <ui-empty wx:if="{{hasLogin && empty}}" text="暂无售后记录" />

  <view wx:for="{{list}}" wx:key="id" class="item" data-id="{{item.id}}" bindtap="onTapItem">
    <view class="top">
      <view class="trade">订单号：{{item.tradeNo}}</view>
      <view class="status">{{item.statusText}}</view>
    </view>
    <view class="mid">
      <view class="seller">
        <image class="icon" src="{{item.sellerImage}}" mode="aspectFill" />
        <view class="seller-name">{{item.sellerNickname}}</view>
      </view>
    </view>
    <view class="bottom">
      <view class="amount">退款金额：<text class="amount-val">{{item.refundFee}}</text> 元</view>
      <view class="sub">订单总价：{{item.orderAmountPrice}} 元</view>
      <view class="sub">申请时间：{{item.createTimeText}}</view>
    </view>
  </view>

  <ui-list-footer wx:if="{{hasLogin && !empty}}" status="{{loadingStatus}}" bind:retry="onRetry" />
  <ui-error wx:if="{{error}}" message="{{error}}" bind:retry="onRetry" />
</view>

