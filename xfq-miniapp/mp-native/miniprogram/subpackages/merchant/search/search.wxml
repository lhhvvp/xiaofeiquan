<view class="search-page">
  <view wx:if="{{!hasBaseUrl}}" class="notice">
    baseUrl æœªé…ç½®ï¼šè¯·åˆ›å»º miniprogram/config/local.js å¹¶è®¾ç½® { baseUrl }
  </view>

  <view class="search-wrap page-card">
    <view class="search-main">
      <view class="search-icon">ğŸ”</view>
      <input
        class="search-input"
        value="{{keyword}}"
        placeholder="è¯·è¾“å…¥å…³é”®å­—"
        bindinput="onInputKeyword"
        confirm-type="search"
        bindconfirm="onTapSearch"
      />
    </view>
    <button class="search-btn" size="mini" bindtap="onTapSearch">æœç´¢</button>
  </view>

  <view wx:if="{{showHistory}}" class="history-card page-card">
    <view class="history-head">
      <view class="history-title">å†å²è®°å½•</view>
      <view class="history-del" bindtap="onTapClearHistory">æ¸…ç©º</view>
    </view>
    <view class="history-list">
      <view
        wx:for="{{history}}"
        wx:key="*this"
        class="history-item"
        data-keyword="{{item}}"
        bindtap="onTapHistory"
      >
        {{item}}
      </view>
    </view>
  </view>

  <view wx:if="{{!showHistory}}" class="result-list">
    <view wx:if="{{empty}}" class="empty">æš‚æ— æ•°æ®</view>

    <view wx:for="{{list}}" wx:key="id" class="item page-card" data-id="{{item.id}}" bindtap="onTapMerchant">
      <image class="item-img" src="{{item.image}}" mode="aspectFill" />
      <view class="item-main">
        <view class="item-title">
          <text class="item-name">{{item.nickname || 'æœªå‘½åå•†å®¶'}}</text>
          <text class="item-distance">{{item.distanceText || '--'}}</text>
        </view>
        <view class="item-sub">ç”µè¯ï¼š{{item.mobile || 'æš‚æ— ç”µè¯'}}</view>
        <view class="item-sub">è¥ä¸šæ—¶é—´ï¼š{{item.doBusinessTime || '-'}}</view>
        <view class="item-sub">åœ°å€ï¼š{{item.address || 'æš‚æ— åœ°å€'}}</view>
      </view>
    </view>
  </view>

  <view wx:if="{{error}}" class="error">error: {{error}}</view>
</view>
