(function(t){function e(e){for(var a,r,n=e[0],l=e[1],c=e[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],a=!0,n=1;n<i.length;n++){var l=i[n];0!==o[l]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},o={app:0},s=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/screen/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"15d2":function(t,e,i){t.exports=i.p+"img/3.0bd2fc6b.png"},2059:function(t,e,i){},2272:function(t,e,i){"use strict";i("7dd9")},"24cb":function(t,e,i){"use strict";i("2059")},"32e6":function(t,e,i){},"504c":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);var a=i("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],r={name:"App"},n=r,l=(i("86a1"),i("0c7c")),c=Object(l["a"])(n,o,s,!1,null,null,null),d=c.exports,u=i("6c02"),p=i.n(u),h=i("6c29"),f=i("8c4f"),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container videosList"},[t.screenWidth>750?e("dv-full-screen-container",[e("div",{staticClass:"title-box"},[e("div",{staticClass:"tiem"},[e("div",[t._v(t._s(t.nowDate))])]),e("div",{staticClass:"title"},[t._v("榆林市文旅数字化营销系统")]),e("div",{staticClass:"button-isFullscreen"},[e("dv-border-box-10",[e("div",{staticClass:"isFullscreen",on:{click:t.fullScreenClick}},[t._v(" "+t._s(t.isFullscreen?"退出全屏":"进入全屏")+" ")])])],1)]),e("div",{staticClass:"map"},[e("div",{staticClass:"left"},[t.is_left?e("index-left",{attrs:{top_seller_20:t.top_seller_20,list:t.list,top_write_off_20:t.top_write_off_20}}):t._e()],1),e("div",{staticClass:"content"},[0!=t.toplist.length&&0!=t.mapData.length?e("index-centent",{attrs:{toplist:t.toplist,coupon_info_list:t.coupon_info_list,mapData:t.mapData,spotData:t.spotData}}):t._e()],1),e("div",{staticClass:"right"},[0!=t.dataAge.length&&0!=t.top_coupon_issue_user_20.length?e("index-right",{attrs:{dataAge:t.dataAge,dataSex:t.dataSex,dataVali:t.dataVali,listTrend:t.listTrend,top_coupon_issue_user_20:t.top_coupon_issue_user_20}}):t._e()],1)])]):t._e(),t.screenWidth<750?e("div",[e("div",{staticClass:"title-box"},[e("div",{staticClass:"tiem"},[e("div",[t._v(t._s(t.nowDate))])]),e("div",{staticClass:"title"},[t._v("榆林市文旅数据化营销系统")]),e("div",{staticClass:"button-isFullscreen"},[e("dv-border-box-10",[e("div",{staticClass:"isFullscreen",on:{click:t.fullScreenClick}},[t._v(" "+t._s(t.isFullscreen?"退出全屏":"进入全屏")+" ")])])],1)]),e("div",{staticClass:"map"},[e("div",{staticClass:"left"},[t.is_left?e("index-left",{attrs:{top_seller_20:t.top_seller_20,list:t.list,top_write_off_20:t.top_write_off_20}}):t._e()],1),e("div",{staticClass:"content"},[0!=t.toplist.length&&0!=t.mapData.length?e("index-centent",{attrs:{toplist:t.toplist,coupon_info_list:t.coupon_info_list,mapData:t.mapData,spotData:t.spotData}}):t._e()],1),e("div",{staticClass:"right"},[0!=t.dataAge.length&&0!=t.top_coupon_issue_user_20.length?e("index-right",{attrs:{dataAge:t.dataAge,dataSex:t.dataSex,dataVali:t.dataVali,listTrend:t.listTrend,top_coupon_issue_user_20:t.top_coupon_issue_user_20}}):t._e()],1)])]):t._e()],1)},m=[],g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"indexLeft"},[e("div",{staticClass:"top"},[e("dv-border-box-11",{attrs:{title:"商 家 核 销 排 名",titleWidth:200}},[e("div",{staticClass:"top-item"},[e("dv-scroll-board",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.configTable}})],1)])],1),e("div",{staticClass:"centent bottom-box"},[e("dv-border-box-11",{attrs:{title:"发 行 数 据",titleWidth:200}},t._l(t.list,(function(i,a){return e("div",{key:a,staticClass:"item"},[e("dv-border-box-7",[e("div",{staticClass:"left",staticStyle:{width:"35%"}},[e("img",{attrs:{src:i.icons}})]),e("div",{staticClass:"right",staticStyle:{width:"60%"}},[e("div",{staticClass:"top number-font"},[e("animate-number",{key:i.number,attrs:{from:"0",to:i.number,duration:"2000"}})],1),e("div",{staticClass:"bottom"},[t._v(t._s(i.name))])])])],1)})),0)],1),e("div",{staticClass:"bottom"},[e("dv-border-box-11",{attrs:{title:" 商 家 最 新 核 销",titleWidth:200}},[e("div",{staticClass:"bottom-item"},[e("div",{staticClass:"nav-items"},t._l(t.lists,(function(i,a){return e("div",{key:a,staticClass:"nav-item",class:[t.current==a?"active":""],on:{click:function(e){return t.listClick(a)}}},[t._v(" "+t._s(i)+" ")])})),0),e("dv-scroll-board",{ref:"scrollBoard1",staticStyle:{width:"100%",height:"calc(100% - 45px)"},attrs:{config:t.configTable1}})],1)])],1)])},v=[],_={name:"indexLeft",props:{colData:{type:Array,default:function(){return[]}},list:{type:Array,default:function(){return[]}},top_seller_20:{type:Array,default:function(){return[]}},top_write_off_20:{type:Array,default:function(){return[]}}},data:function(){return{lists:[],current:0,configTable:{header:["排名","商家名称","核销数","核销金额"],data:[],rowNum:7,align:["center","center","center","center"],columnWidth:[60,250,120,120],headerBGC:"#020e4d",oddRowBGC:"#081c88",evenRowBGC:"#021061"},configTable1:{header:["消费券名称","金额","核销人","核销时间"],data:[],rowNum:4,align:["center","center","center","center"],columnWidth:[150,50,100],headerBGC:"#020e4d",oddRowBGC:"#05127c",evenRowBGC:"#000e6d"}}},mounted(){this.configTable.data=this.top_seller_20.map((t,e)=>[e+1,t.nickname,t.total,t.price]),this.top_write_off_20.forEach(t=>{this.lists.push(t.title),void 0!=t.list&&(t.list=t.list.map(t=>{let e=[t.coupon_title,t.coupon_price,t.users.name,t.new_create_time];return e}))}),this.$set(this.configTable1,"data",this.top_write_off_20[this.current].list);let t=this.lists.length,e=0;setInterval(()=>{e<t-1?(e++,this.listClick(e)):(e=0,this.listClick(e))},15e3)},methods:{listClick(t){this.current=t,this.$set(this.configTable1,"data",[]),this.configTable1={};let e={header:["消费券名称","金额","核销人","核销时间"],data:this.top_write_off_20[t].list,rowNum:4,align:["center","center","center","center"],columnWidth:[150,50,100],headerBGC:"#020e4d",oddRowBGC:"#05127c",evenRowBGC:"#000e6d"};this.configTable1=e},echarts_2(){let t=[],e=[];this.colData.map(i=>{t.push(i.area),e.push(i.value)});var a=i("313e"),o=a.init(document.getElementById("number"));let s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"0%",top:"10px",right:"0%",bottom:"4%",containLabel:!0},xAxis:[{type:"category",data:t,axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,.1)",width:1,type:"solid"}},axisTick:{show:!1},axisLabel:{interval:0,show:!0,splitNumber:15,rotate:38,textStyle:{color:"rgba(255,255,255,.6)",fontSize:"10"}}}],yAxis:[{type:"value",axisLabel:{show:!0,textStyle:{color:"rgba(255,255,255,.6)",fontSize:"10"}},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,.1\t)",width:1,type:"solid"}},splitLine:{lineStyle:{color:"rgba(255,255,255,.1)"}}}],series:[{type:"bar",data:e,barWidth:"35%",itemStyle:{normal:{color:"#27d08a",opacity:1,barBorderRadius:5}}}]};o.setOption(s),window.addEventListener("resize",(function(){o.resize()}))}}},y=_,x=(i("e99a"),Object(l["a"])(y,g,v,!1,null,"71b12afb",null)),w=x.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index-centent"},[e("div",{staticClass:"top-box"},[e("dv-border-box-11",{attrs:{title:"累 计 数 据",titleWidth:200}},[e("div",{staticClass:"top-items"},t._l(t.toplist,(function(i,a){return e("div",{key:a,staticClass:"top-item"},[e("div",{staticClass:"number number-font"},[e("animate-number",{key:i.number,attrs:{from:"0",to:i.number,duration:"2000"}})],1),e("div",{staticClass:"name"},[t._v(t._s(i.name))])])})),0)])],1),e("div",{staticClass:"top-map"},[e("dv-border-box-11",{attrs:{title:"区域核销分布热点图",titleWidth:240}},[e("div",{attrs:{id:"chartViewMap"}})])],1),e("div",{staticClass:"bottom-box"},[e("dv-border-box-11",{attrs:{title:"消 费 券 数 据",titleWidth:200}},[e("dv-scroll-board",{staticStyle:{width:"97%",height:"calc(100% - 125px)",padding:"6% 1.5% 0"},attrs:{config:t.configTable1}})],1)],1)])},C=[],k={name:"indexCentent",props:{toplist:{type:Array,default:function(){return[]}},mapData:{type:Array,default:function(){return[]}},coupon_info_list:{type:Array,default:function(){return[]}},spotData:{type:Array,default:function(){return[]}}},data:function(){return{bgColor:{color:[],bgColor:""},configTable1:{header:["序号","类型","消费券名称","发行数量","核销数量","发行金额","核销金额"],data:[],rowNum:5,align:["center","center","center","center","center","center","center","center"],columnWidth:[60,150,250,120,120,120,120],headerBGC:"#020e4d",oddRowBGC:"#05127c",evenRowBGC:"#000e6d"},screenWidth:document.body.clientWidth}},watch:{screenWidth(t){this.screenWidth=t,this.echarts_map()}},mounted:function(){window.onresize=()=>(()=>{this.screenWidth=document.body.clientWidth})(),this.echarts_map();let t=[];this.coupon_info_list.forEach((e,i)=>{let a=[i+1,e.title,e.coupon_title,e.total_count,e.writeoff_total,e.faxing_price,e.writeoff_price];t.push(a)}),this.$set(this.configTable1,"data",t)},methods:{echarts_map(){let t=this.mapData;var e=[],a=0;t=t.sort((function(t,e){return t.value-e.value}));for(let i=0;i<t.length;i++){var o=parseInt(t[i].value);a<o&&(a=o),e[i]=t[i].name}this.screenWidth<750&&(t=[]);var s=i("313e");let r=this,n=this.setCeil(a);this.$axios.get(this.$urli+"/610800_full.json").then((function(i){i=i.data,s.registerMap("Yulin",i);var a=s.init(document.getElementById("chartViewMap")),o={tooltip:{show:!0,trigger:"item",formatter:function(t){if(""!=t.seriesName)return`${t.name}:<br/>核销数：${t.data.value}`}},title:[{left:"center",textStyle:{color:"#fff"}}],visualMap:{min:0,max:n,left:"90%",bottom:10,text:["高","低"],calculable:!0,color:["#00169d","#006be4","#3eabff"],textStyle:{color:"#fff"},show:!1,formatter:function(t){return t}},grid:{left:80,top:100,bottom:"20%",width:"20%"},xAxis:{type:"value",scale:!0,show:!1,position:"top",splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.8)"}},axisTick:{show:!0,lineStyle:{color:"#ddd"}},axisLabel:{fontSize:10,margin:5,rotate:45,textStyle:{color:"#ddd"},formatter:function(t){return t}}},yAxis:{type:"category",show:!(r.screenWidth<750),nameGap:10,axisLine:{show:!0,lineStyle:{color:"#ccc"}},axisTick:{show:!1,lineStyle:{color:"#ccc"}},axisLabel:{interval:0,textStyle:{color:"#ddd"}},data:e},geo:{map:"Yulin",roam:!1,layoutCenter:[r.screenWidth<750?"50%":"60%","50%"],layoutSize:r.screenWidth<750?"80%":"90%",label:{normal:{show:!0,color:"#ffffff"},emphasis:{color:"#fff"}},itemStyle:{normal:{areaColor:"rgba(43, 196, 243, 0.42)",borderColor:"rgba(43, 196, 243, 1)",borderWidth:1},emphasis:{areaColor:"#2B91B7"}}},series:[{id:"bar",type:"bar",symbol:"none",itemStyle:{normal:{color:"#ddb926"}},data:t}]};r.spotData.forEach(t=>{t.value.forEach(t=>{const e=()=>"#"+Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0");let i={type:"effectScatter",coordinateSystem:"geo",data:[{name:t.nickname,value:[t.longitude,t.latitude,2]}],symbolSize:function(t){return t[2]},encode:{value:2},rippleEffect:{number:2,period:4,scale:10,brushType:"stroke",color:e()},showEffectOn:"render",effectType:"ripple",emphasis:{scale:!1},label:{formatter:"{b}",position:"right",show:!1},itemStyle:{shadowBlur:1,shadowColor:"rgba(230, 10, 10, 1)"},zlevel:3};o.series.push(i)})}),a.setOption(o),window.addEventListener("resize",(function(){a.resize()}))}))},setCeil(t){if(t<10)return 10;{let e=Number(t.toString().substring(0,1));return(e+1)*Math.pow(10,t.toString().length-1)}}}},T=k,W=(i("8fcd"),Object(l["a"])(T,S,C,!1,null,null,null)),$=W.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"indexRight"},[e("div",{staticClass:"indexRight-top"},[e("dv-border-box-11",{attrs:{title:"消 费  券 领 取",titleWidth:200}},[e("div",{staticClass:"weather"},[e("div",{staticClass:"nav-items"},t._l(t.list,(function(i,a){return e("div",{key:a,staticClass:"nav-item",class:[t.current==a?"active":""],on:{click:function(e){return t.listClick(a)}}},[t._v(" "+t._s(i)+" ")])})),0),e("dv-scroll-board",{ref:"scrollBoard",staticStyle:{width:"100%",height:"calc(100% - 35px)"},attrs:{config:t.configTable}})],1)])],1),e("div",{staticClass:"indexRight-content"},[e("dv-border-box-11",{attrs:{title:"用 户 属 性 统 计",titleWidth:200}},[e("div",{staticClass:"indexRight-content-box"},[e("div",{attrs:{id:"fb4"}}),e("div",{attrs:{id:"fb2"}}),e("div",{attrs:{id:"fb3"}})])])],1),e("div",{staticClass:"indexRight-bottom"},[e("dv-border-box-11",{attrs:{title:"核 销 统 计",titleWidth:200}},[e("div",{staticClass:"visitor",attrs:{id:"echart4"}})])],1)])},A=[],O={name:"indexRight",props:{dataAge:{type:Array,default:function(){return[]}},dataSex:{type:Array,default:function(){return[]}},dataVali:{type:Array,default:function(){return[]}},listTrend:{type:Array,default:function(){return[]}},top_coupon_issue_user_20:{type:Array,default:function(){return[]}}},data:function(){return{current:0,list:[],configTable:{header:["序号","分类","领取人","优惠券名称"],data:[],rowNum:6,align:["center","center","center"],columnWidth:[70,100],headerBGC:"#020e4d",oddRowBGC:"#05127c",evenRowBGC:"#000e6d"}}},mounted(){this.configTable.data=[],this.echarts(),this.echarts1(),this.echarts2(),this.echarts3(),this.top_coupon_issue_user_20.forEach(t=>{this.list.push(t.title),void 0!=t.list&&(t.list=t.list.map(e=>{let i=[e.id,t.title,e.name,e.coupon_title];return i}))}),this.$set(this.configTable,"data",this.top_coupon_issue_user_20[this.current].list);let t=this.list.length,e=0;setInterval(()=>{e<t-1?(e++,this.listClick(e)):(e=0,this.listClick(e))},15e3)},methods:{listClick(t){this.current=t,this.$set(this.configTable,"data",[]);let e={header:["序号","分类","领取人","消费券名称"],data:this.top_coupon_issue_user_20[this.current].list,rowNum:6,align:["center","center","center"],columnWidth:[70,100],headerBGC:"#020e4d",oddRowBGC:"#05127c",evenRowBGC:"#000e6d"};this.configTable=e},echarts(){var t=i("313e");let e=[],a=[],o=[];this.listTrend.forEach(t=>{let i=t.date.split("-"),s=`${i[1]}-${i[2]}`;e.push(s),a.push(t.num),o.push(t.price)});var s=t.init(document.getElementById("echart4"));let r={tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#dddc6b"}}},legend:{top:"0%",data:["核销数量","核销金额"],textStyle:{color:"rgba(255,255,255,.5)",fontSize:"12"}},grid:{left:"10",top:"30",right:"25",bottom:"10",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:"rgba(255,255,255,.6)",fontSize:12}},axisLine:{lineStyle:{color:"rgba(255,255,255,.2)"}},data:e},{axisPointer:{show:!1},axisLine:{show:!1},position:"bottom",offset:20}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{lineStyle:{color:"rgba(255,255,255,.1)"}},axisLabel:{textStyle:{color:"rgba(255,255,255,.6)",fontSize:12}},splitLine:{lineStyle:{color:"rgba(255,255,255,.1)"}}}],series:[{name:"核销数量",type:"line",smooth:!0,symbol:"circle",symbolSize:5,showSymbol:!1,lineStyle:{normal:{color:"#0184d5",width:2}},areaStyle:{normal:{color:new t.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(1, 132, 213, 0.4)"},{offset:.8,color:"rgba(1, 132, 213, 0.1)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)"}},itemStyle:{normal:{color:"#0184d5",borderColor:"rgba(221, 220, 107, .1)",borderWidth:12}},data:a},{name:"核销金额",type:"line",smooth:!0,symbol:"circle",symbolSize:5,showSymbol:!1,lineStyle:{normal:{color:"#00d887",width:2}},areaStyle:{normal:{color:new t.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 216, 135, 0.4)"},{offset:.8,color:"rgba(0, 216, 135, 0.1)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)"}},itemStyle:{normal:{color:"#00d887",borderColor:"rgba(221, 220, 107, .1)",borderWidth:12}},data:o}]};s.setOption(r),window.addEventListener("resize",(function(){s.resize()}))},echarts1(){var t=i("313e"),e=t.init(document.getElementById("fb2"));let a=this.dataAge.map(t=>t.name),o={title:[{text:"年龄统计",left:"center",textStyle:{color:"#fff",fontSize:"12"}}],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",position:function(t){return[t[0]+10,t[1]-10]}},legend:{top:"68%",itemWidth:10,itemHeight:10,data:a,textStyle:{color:"rgba(255,255,255,.5)",fontSize:"11.5"}},series:[{name:"年龄统计",type:"pie",center:["50%","38%"],radius:["40%","70%"],color:["#065aab","#066eab","#0682ab","#0696ab","#06a0ab","#06b4ab","#06c8ab","#06dcab"],label:{show:!1},labelLine:{show:!1},data:this.dataAge}]};e.setOption(o),window.addEventListener("resize",(function(){e.resize()}))},echarts2(){var t=i("313e"),e=t.init(document.getElementById("fb3"));let a=this.dataSex.map(t=>t.name),o={title:[{text:"性别统计",left:"center",textStyle:{color:"#fff",fontSize:"12"}}],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",position:function(t){return[t[0]+10,t[1]-10]}},legend:{top:"65%",itemWidth:10,itemHeight:10,data:a,textStyle:{color:"rgba(255,255,255,.5)",fontSize:"12"}},series:[{name:"性别统计",type:"pie",center:["50%","38%"],radius:["40%","70%"],color:["#065aab","#066eab","#0682ab","#0696ab","#06a0ab","#06b4ab","#06c8ab","#06dcab"],label:{show:!1},labelLine:{show:!1},data:this.dataSex}]};e.setOption(o),window.addEventListener("resize",(function(){e.resize()}))},echarts3(){var t=i("313e"),e=t.init(document.getElementById("fb4"));let a=this.dataVali.map(t=>t.name),o={title:[{text:"实名统计",left:"center",textStyle:{color:"#fff",fontSize:"12"}}],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",position:function(t){return[t[0]+10,t[1]-10]}},legend:{top:"65%",itemWidth:10,itemHeight:10,data:a,textStyle:{color:"rgba(255,255,255,.5)",fontSize:"12"}},series:[{name:"实名统计",type:"pie",center:["50%","38%"],radius:["40%","70%"],color:["#065aab","#066eab","#0682ab","#0696ab","#06a0ab","#06b4ab","#06c8ab","#06dcab"],label:{show:!1},labelLine:{show:!1},data:this.dataVali,emphasis:{show:!1}}]};e.setOption(o),window.addEventListener("resize",(function(){e.resize()}))}}},z=O,D=(i("9b40"),Object(l["a"])(z,L,A,!1,null,"3472522d",null)),B=D.exports,j={components:{IndexCentent:$,IndexRight:B,IndexLeft:w},data:function(){return{nowDate:"",isFullscreen:!1,loading:!0,Token:"",dataAge:[],dataSex:[],dataVali:[],listTrend:[],toplist:[],mapData:[],coupon_info_list:[],list:[],spotData:[],top_coupon_issue_user_20:[],top_seller_20:[],top_write_off_20:[],is_left:!1,timer:!1,screenWidth:document.body.clientWidth}},mounted(){window.setInterval(()=>{this.formatDate()},1e3),this.init(),window.setInterval(()=>{this.init()},15e3),this.initlist(),window.addEventListener("resize",this.judgeCurrentScreen)},destroyed(){window.removeEventListener("resize",this.judgeCurrentScreen)},methods:{init(){if(this.Token=sessionStorage.getItem("Token"),!this.Token)return this.$router.replace("empty"),!1;this.$axios({method:"POST",url:this.$urli+"/api/screen/index",headers:{Token:this.Token,Pip:"LvjUbYFOWNOGAa/YkeXZ4A==",Userid:sessionStorage.getItem("userid")},responseType:"json"}).then(t=>{let e=t.data;if(0==e.code){this.coupon_info_list=e.data.coupon_info_list,this.dataAge=e.data.dataAge,this.dataSex=e.data.dataSex,this.dataVali=e.data.dataVali,this.listTrend=e.data.listTrend,this.toplist=e.data.toplist,this.mapData=e.data.mapData,e.data.list.map((t,e)=>(this.$set(t,"icons",i("61b0")(`./${e+1}.png`)),t)),this.list=e.data.list,this.spotData=e.data.spotData;let t=null;t=this.dataVali[0].value,this.toplist.push({name:"总用户量",number:t})}else this.$router.replace("empty")}).catch(()=>{this.$router.replace("empty")})},initlist(){this.top_coupon_issue_user_20=[],this.top_seller_20=[],this.top_write_off_20=[],this.$axios({method:"POST",url:this.$urli+"/api/screen/list",headers:{Token:this.Token,Pip:"LvjUbYFOWNOGAa/YkeXZ4A==",Userid:sessionStorage.getItem("userid")},responseType:"json"}).then(t=>{let e=t.data;0==e.code?(this.top_coupon_issue_user_20=e.data.top_coupon_issue_user_20,this.top_seller_20=e.data.top_seller_20,this.top_write_off_20=e.data.top_write_off_20,this.is_left=!0):this.$router.replace("empty")}).catch(()=>{this.$router.replace("empty")})},formatDate(){let t=new Date,e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),o=t.getDay(),s=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],r=t.getHours();r=r<10?"0"+r:r;let n=t.getMinutes();n=n<10?"0"+n:n;let l=t.getSeconds();l=l<10?"0"+l:l,this.nowDate=`${e}-${i}-${a} ${r}:${n}:${l} ${s[o]}`},fullScreenClick(){let t=this.$el.querySelector(".videosList");this.isFullscreen?this.$fullscreen.exit(t,{wrap:!1,callback:t=>{this.isFullscreen=t}}):this.$fullscreen.enter(t,{wrap:!1,callback:t=>{this.isFullscreen=t}})},checkFull(){var t=document.mozFullScreen||document.fullScreen||document.webkitIsFullScreen||document.webkitRequestFullScreen||document.mozRequestFullScreen||document.msFullscreenEnabled;return void 0===t&&(t=!1),t},judgeCurrentScreen(){this.checkFull(),this.checkFull()||(this.isFullscreen=!1),this.checkFull()&&(this.isFullscreen=!0)}}},E=j,F=(i("2272"),Object(l["a"])(E,b,m,!1,null,"dca98260",null)),G=F.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",attrs:{id:"index"}},[t.screenWidth>750?e("dv-full-screen-container",[e("div",{staticClass:"login-box"},[e("dv-border-box-11",{attrs:{title:"登录"}},[e("div",{staticClass:"login"},[e("label",[t._v("请输入密码:")]),e("div",{staticStyle:{width:"240px",display:"inline-block"}},[e("dv-border-box-8",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1)]),e("div",{staticClass:"but"},[e("dv-border-box-10",[e("div",{staticClass:"w100 h100 flex fff",on:{click:t.paswd}},[t._v("登录")])])],1)])],1)]):t._e(),t.screenWidth<750?e("div",{staticStyle:{height:"100vh",display:"flex","align-items":"center"}},[e("div",{staticClass:"login-box"},[e("dv-border-box-11",{attrs:{title:"登录"}},[e("div",{staticClass:"login"},[e("label",[t._v("请输入密码:")]),e("div",{staticStyle:{width:"240px",display:"inline-block"}},[e("dv-border-box-8",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1)]),e("div",{staticClass:"but"},[e("dv-border-box-10",[e("div",{staticClass:"w100 h100 flex fff",on:{click:t.paswd}},[t._v("登录")])])],1)])],1)]):t._e()],1)},I=[],P={data:function(){return{password:"",timer:!1,screenWidth:document.body.clientWidth}},mounted(){},methods:{paswd(){this.password||alert("请输入密码"),this.$axios({method:"POST",url:this.$urli+"/api/screen/login",data:{password:this.password},responseType:"json"}).then(t=>{let e=t.data;if(1==e.code)alert(e.msg);else{if(void 0==e.data.token||null==e.data.token||""==e.data.token)return alert("登录异常请重试"),!1;sessionStorage.setItem("Token",e.data.token),sessionStorage.setItem("userid",this.password),this.$router.replace("index")}})}}},N=P,M=(i("24cb"),Object(l["a"])(N,R,I,!1,null,"335e2823",null)),V=M.exports,Y=function(){var t=this,e=t._self._c;return e("div",[e("dv-full-screen-container",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e("dv-border-box-11",{staticStyle:{width:"50%",height:"50%","margin-bottom":"200px"},attrs:{title:"异常提示"}},[e("div",{staticClass:"box"},[e("div",{staticStyle:{width:"240px",height:"240px","margin-bottom":"50px"}},[e("dv-decoration-9",{staticStyle:{width:"240px",height:"240px",color:"#ffffff","text-align":"center"}},[t._v("数据异常"),e("br"),t._v("请重试 ")])],1),e("div",{staticStyle:{width:"150px",height:"40px","line-height":"40px","text-align":"center",color:"#ffffff"},on:{click:function(e){return t.login()}}},[e("dv-border-box-10",[t._v("重新登录")])],1)])])],1)],1)},U=[],q={methods:{login(){this.$router.replace("/")}}},H=q,J=(i("5edf"),Object(l["a"])(H,Y,U,!1,null,"34e3c1a4",null)),X=J.exports;a["a"].use(f["a"]);var Z=new f["a"]({routes:[{path:"/",name:"login",component:V},{path:"/index",name:"index",component:G},{path:"/login",name:"login",component:V},{path:"/empty",name:"empty",component:X}]}),K=i("03cd"),Q=i.n(K),tt=i("bc3a"),et=i.n(tt),it=i("15a3"),at=i.n(it);a["a"].use(at.a),a["a"].prototype.$axios=et.a,a["a"].prototype.$urli="https://v2.wlxfq.dianfengcms.com",a["a"].use(h["a"]),a["a"].use(Q.a),a["a"].config.productionTip=!1,a["a"].prototype.$Charts=p.a,new a["a"]({render:t=>t(d),router:Z}).$mount("#app")},"58cb":function(t,e,i){t.exports=i.p+"img/1.773284db.png"},"5edf":function(t,e,i){"use strict";i("32e6")},"61b0":function(t,e,i){var a={"./1.png":"58cb","./2.png":"e493","./3.png":"15d2","./4.png":"bbd9","./5.png":"a789","./6.png":"ace6"};function o(t){var e=s(t);return i(e)}function s(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=s,t.exports=o,o.id="61b0"},"7dd9":function(t,e,i){},"86a1":function(t,e,i){"use strict";i("f882")},"8fcd":function(t,e,i){"use strict";i("edb0")},"9b40":function(t,e,i){"use strict";i("eb53")},a789:function(t,e,i){t.exports=i.p+"img/5.fcb91a98.png"},ace6:function(t,e,i){t.exports=i.p+"img/6.890ae5d0.png"},bbd9:function(t,e,i){t.exports=i.p+"img/4.b3eac7b7.png"},e493:function(t,e,i){t.exports=i.p+"img/2.4c4ca4a8.png"},e99a:function(t,e,i){"use strict";i("504c")},eb53:function(t,e,i){},edb0:function(t,e,i){},f882:function(t,e,i){}});
//# sourceMappingURL=app.adb840fb.js.map